(this.webpackJsonpexpenses=this.webpackJsonpexpenses||[]).push([[0],{137:function(e,t,a){e.exports={wallet:"Wallet2_wallet__2J_2a",filterContainer:"Wallet2_filterContainer__3Ui0K",box:"Wallet2_box__30pdh",chart:"Wallet2_chart__Eycoq",boxExpenseGrid:"Wallet2_boxExpenseGrid__2OnMr",columnBox:"Wallet2_columnBox__2MqHU"}},182:function(e,t,a){},188:function(e,t,a){e.exports={gridMenu:"WalletNavBar_gridMenu__2IBwp"}},192:function(e,t,a){e.exports={box:"WalletTimeFilter_box__UxAMj",columnBox:"WalletTimeFilter_columnBox__1VNRw",datePickerSection:"WalletTimeFilter_datePickerSection__2dpaq"}},194:function(e,t,a){e.exports={walletExpenseGrid:"WalletExpenseGrid_walletExpenseGrid__2N2cE"}},196:function(e,t,a){e.exports={mainContainer:"WalletMainContainer_mainContainer__35nvo",boxExpenseGrid:"WalletMainContainer_boxExpenseGrid__3VQCG"}},22:function(e,t,a){e.exports={login:"Login_login__2SrET",carroussel__container:"Login_carroussel__container__1Q5b_",carroussel__wrapper:"Login_carroussel__wrapper__2Pl-d",login__container:"Login_login__container__uyqmf",title:"Login_title__PykO5",capital:"Login_capital__3ScWj",textDescription:"Login_textDescription__3_pP4",functionDescription:"Login_functionDescription__yr6Jf",logo1:"Login_logo1__2Dr91",logo2:"Login_logo2__A5MH8",bckg__img:"Login_bckg__img__3XDgq",newAccount:"Login_newAccount__R4TgA",toolContainer:"Login_toolContainer__2mvfj",tool:"Login_tool__1et_S",textField:"Login_textField__j3yLV",errorMessagesContainer:"Login_errorMessagesContainer__l9x-D",errorMessages:"Login_errorMessages__1y-c1"}},224:function(e,t,a){},225:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),l=a(9),i=a(43),s=a(15),u=a(28),d=a.n(u),m=Object(i.b)({name:"expenses",initialState:{expenses:[],subExpenses:[],dateFrom:"",dateTo:"",reload:!1,alertAdd:""},reducers:{setExpenses:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{expenses:t.payload})},setDateFrom:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{dateFrom:t.payload})},setDateTo:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{dateTo:t.payload})},setSubExpenses:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{subExpenses:t.payload})},switchReload:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{reload:!e.reload})},changeAlertAdd:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{alertAdd:t.payload})}}}),p=m.actions,b=p.setExpenses,g=p.setDateFrom,f=p.setDateTo,h=p.setSubExpenses,E=p.switchReload,j=p.changeAlertAdd,O=m.reducer,w=Object(i.b)({name:"earnings",initialState:{earnings:[],subEarnings:[],dateFrom:"",dateTo:"",reload:!1,alertAdd:""},reducers:{setEarnings:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{earnings:t.payload})},setDateFromEarnings:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{dateFrom:t.payload})},setDateToEarnings:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{dateTo:t.payload})},setSubEarnings:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{subEarnings:t.payload})},switchReloadEarnings:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{reload:!e.reload})},changeAlertAddEarnings:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{alertAdd:t.payload})}}}),v=w.actions,x=v.setEarnings,y=v.setDateFromEarnings,C=v.setDateToEarnings,S=v.setSubEarnings,_=(v.switchReloadEarnings,v.changeAlertAddEarnings,w.reducer),k=a(395),N={wallet:k.a[600]},I=Object(i.b)({name:"theme",initialState:N,reducer:{setWalletTheme:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{wallet:t.payload})}}}),R=(I.actions.setWalletTheme,I.reducer),B=Object(i.b)({name:"user",initialState:{userId:"",firstname:"",lastname:"",email:""},reducers:{setUser:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{userId:t.payload.userId,firstname:t.payload.firstname,lastname:t.payload.lastname,email:t.payload.email})}}}),D=B.actions.setUser,F=B.reducer,L=Object(i.a)({reducer:{expenses:O,earnings:_,theme:R,user:F}}),A=(a(224),a(51)),M=a(19),W=(a(225),a(226),a(13)),P=a.n(W),T=a(20),U=a.n(T),z=a(34),Y=a(3),G=a(7),q=a(22),H=a.n(q),$=a(101),Z=a.n($),J=Z.a.create({baseURL:"https://service-expenses-bck.herokuapp.com"}),K=a(92),V=a(78),X=a(71),Q=a(205),ee=a(402),te=a(89),ae=a.n(te),ne=a(90),re=a.n(ne),oe=a(397),ce=a.p+"static/media/wallet.da549268.png",le=a.p+"static/media/messenger.419ad27f.png",ie=a.p+"static/media/Hs-White.74398bf2.png",se=a(398),ue=a(104),de=a.n(ue),me=a(358),pe=Object(K.a)((function(e){return{large:{width:"100%"},space:{marginBottom:20},loginButton:Object(G.a)({color:"white",backgroundColor:oe.a[600],width:"100%",height:50,borderRadius:4,marginTop:30,"&:hover":{backgroundColor:oe.a[800]}},e.breakpoints.down(420),{height:32}),newAccountButton:{fontFamily:"Arial, Helvetica, sans-serif",color:oe.a[600],textDecoration:"none","&:hover":{color:oe.a[800],textDecoration:"none",cursor:"pointer"}},iconButton:{width:80,height:80,border:"3px solid #039be5",backgroundColor:"white,"},textField:Object(G.a)({},e.breakpoints.down(380),{height:28}),errorIcon:{color:"red"}}})),be=Object(K.a)((function(e){var t;return{root:(t={color:oe.a[300],outline:"none"},Object(G.a)(t,e.breakpoints.down(380),{fontSize:10}),Object(G.a)(t,"&$focused",{color:oe.a[300],borderBottomColor:oe.a[300]}),t),focused:{}}}));var ge=function(){var e=pe(),t=be(),a=Object(l.b)(),o=Object(n.useState)(window.innerWidth),c=Object(Y.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)(!0),d=Object(Y.a)(u,2),m=(d[0],d[1],Object(n.useState)()),p=Object(Y.a)(m,2),b=p[0],g=p[1],f=Object(n.useState)(!1),h=Object(Y.a)(f,2),E=h[0],j=h[1],O=Object(n.useState)(),w=Object(Y.a)(O,2),v=w[0],x=w[1],y=Object(n.useState)(),C=Object(Y.a)(y,2),S=C[0],_=C[1],k=Object(n.useState)(!1),N=Object(Y.a)(k,2),I=N[0],R=N[1],B=Object(n.useState)([]),F=Object(Y.a)(B,2),L=F[0],W=F[1],T=Object(n.useState)(!1),G=Object(Y.a)(T,2),q=G[0],$=G[1],Z=Object(M.g)(),K=(Object(l.c)((function(e){return e.user.userId})),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),te=function(){var e=Object(z.a)(U.a.mark((function e(t){var n,r,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=ue(),$(!0),e.prev=3,!n){e.next=10;break}return r={email:v,password:b},e.next=8,J.post("/signin",r);case 8:(o=e.sent).error?console.log(o.error):(console.log("connected"),a(D(o.data)),Z.push("/Expenses/wallet"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),"Error: Network Error"==e.t0.toString()?W(["Error connection to server"]):W([e.t0.response]);case 15:return e.prev=15,$(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){switch(e){case"wallet":_("With Happy Wallet, you can record your expenses and have a better control on your money"),R(!0);break;case"messenger":_("With Happy Messenger, communicate with your friends on a private chat"),R(!0)}},oe=function(e){_(""),R(!1)},ue=function(){var e=[];return P()(v)?e.push("Email is empty"):v.match(K)||e.push("Email wrong format"),P()(b)&&e.push("Password  is empty"),W(e),!!P()(e)};return Object(n.useEffect)((function(){var e=!0,t=function(){e&&s(window.innerWidth)};return window.addEventListener("resize",t),console.log(e),function(){e=!1,window.removeEventListener("resize",t),console.log(e)}}),[]),r.a.createElement("div",{className:H.a.login},r.a.createElement("div",{className:H.a.carroussel__container}),i>=960?r.a.createElement("div",{className:H.a.carroussel__wrapper},r.a.createElement("h1",{className:H.a.title},r.a.createElement("span",{className:H.a.capital},"H"),"appy"," ",r.a.createElement("span",{className:H.a.capital},"s"),"uite"),r.a.createElement("p",{className:H.a.textDescription},"With Happy Suite, create a private space with your friends and your family to share personal infomation with the Happy Suite tools"),r.a.createElement("div",{className:H.a.toolContainer},r.a.createElement("img",{id:"wallet",className:H.a.tool,src:ce,alt:"wallet",onMouseOver:function(e){return ne(e.target.id)},onMouseOut:function(e){return oe(e.target.id)}}),r.a.createElement("img",{id:"messenger",className:H.a.tool,src:le,alt:"messenger",onMouseOver:function(e){return ne(e.target.id)},onMouseOut:function(e){return oe(e.target.id)}})),r.a.createElement(se.a,{direction:"right",in:I,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("p",{className:H.a.functionDescription},S))):"",r.a.createElement("form",{className:H.a.login__container},r.a.createElement("img",{src:ie,className:"".concat(H.a.logo1," ").concat(e.space),alt:"Hs logo"}),r.a.createElement("h1",{className:H.a.subject},"LOG IN"),r.a.createElement("div",{className:H.a.errorMessagesContainer},!P()(L)&&r.a.createElement("p",{className:H.a.errorMesssages},r.a.createElement(de.a,{className:e.errorIcon})," Error"),!P()(L)&&L.map((function(e,t){return r.a.createElement("p",{key:t,className:H.a.errorMessages},e)}))),r.a.createElement(Q.a,{fullWidth:!0,className:"".concat(e.textField," ").concat(e.space),label:"Email",type:"text",inputProps:{value:v||""},InputLabelProps:{classes:t},onChange:function(e){return x(e.target.value)}}),r.a.createElement(Q.a,{"data-testid":"inputPassword",fullWidth:!0,className:"".concat(e.textField," ").concat(e.space),InputLabelProps:{classes:t},label:"Password",type:E?"text":"password",onChange:function(e){return g(e.target.value)},InputProps:{value:b||"",endAdornment:r.a.createElement(ee.a,{position:"end"},r.a.createElement(X.a,{"aria-label":"toggle password visibility",onClick:function(e){return j(!E)}},E?r.a.createElement(ae.a,null):r.a.createElement(re.a,null)))}}),r.a.createElement(V.a,{disabled:q,className:"".concat(e.loginButton," ").concat(e.space),onClick:function(e){return te(e)}},"LOGIN",q&&r.a.createElement(me.a,{style:{color:"white"}})),r.a.createElement("p",{className:H.a.newAccount},"Don't have an account?"," ",r.a.createElement(A.b,{className:e.newAccountButton,to:"/Expenses/signup"},"Sign Up"))))},fe=a(70),he=a.n(fe),Ee=Object(K.a)((function(e){return{large:{width:"100%"},space:{marginBottom:20},signUpButton:{color:"white",backgroundColor:k.a[300],width:"100%",height:50,borderRadius:25,marginTop:30,"&:hover":{backgroundColor:k.a[800]},"&:focus":{outline:"none"}},iconButton:{width:80,height:80,border:"3px solid #039be5",backgroundColor:"white,"},textField:Object(G.a)({},e.breakpoints.down(380),{height:28}),errorIcon:{color:"red"}}})),je=Object(K.a)((function(e){var t;return{root:(t={color:k.a[300],outline:"none"},Object(G.a)(t,e.breakpoints.down(380),{fontSize:10}),Object(G.a)(t,"&$focused",{color:k.a[300],borderBottomColor:k.a[300]}),t),focused:{}}}));var Oe=function(){var e=Ee(),t=je(),a=Object(n.useState)(),o=Object(Y.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(),u=Object(Y.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!1),b=Object(Y.a)(p,2),g=b[0],f=b[1],h=Object(n.useState)(!1),E=Object(Y.a)(h,2),j=E[0],O=E[1],w=Object(n.useState)(),v=Object(Y.a)(w,2),x=v[0],y=v[1],C=Object(n.useState)(),S=Object(Y.a)(C,2),_=S[0],k=S[1],N=Object(n.useState)(),I=Object(Y.a)(N,2),R=I[0],B=I[1],F=Object(n.useState)([]),L=Object(Y.a)(F,2),W=L[0],T=L[1],G=Object(M.g)(),q=Object(l.b)(),H=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,$=function(){var e=Object(z.a)(U.a.mark((function e(t){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Z(),e.prev=2,!a){e.next=10;break}return n={firstname:_,lastname:R,email:x,password:c},e.next=7,J.post("/signup",n);case 7:r=e.sent,console.log(r),201===r.status&&(console.log(r.data),q(D(r.data)),G.push("/Expenses/wallet"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),T([e.t0.response.data]);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=[];return P()(_)&&e.push("Firstname is empty"),P()(R)&&e.push("Lastname is empty"),P()(x)?e.push("Email is empty"):x.match(H)||e.push("Email wrong format"),P()(c)||P()(d)?e.push("Password and/or Confirm Password is empty"):c!==d&&e.push("Error confirming the password"),T(e),!!P()(e)};return Object(n.useEffect)((function(){}),[W]),r.a.createElement("div",{className:he.a.login},r.a.createElement("form",{className:he.a.login__container},r.a.createElement(A.b,{to:"/Expenses/login"},r.a.createElement("img",{src:ie,className:"".concat(he.a.logo1," ").concat(e.space),alt:"Hs logo"})),r.a.createElement("h1",null,"SIGN UP"),r.a.createElement("div",{className:he.a.errorMessagesContainer},!P()(W)&&r.a.createElement("p",{className:he.a.errorMesssages},r.a.createElement(de.a,{className:e.errorIcon})," Error"),!P()(W)&&W.map((function(e,t){return r.a.createElement("p",{key:t,className:he.a.errorMessages},e)}))),r.a.createElement(Q.a,{"data-testid":"inputFirstname",fullWidth:!0,className:"".concat(e.textField," ").concat(e.space),InputLabelProps:{classes:t},label:"Firstname",type:"text",inputProps:{value:_},onChange:function(e){return k(e.target.value)}}),r.a.createElement(Q.a,{"data-testid":"inputLastname",fullWidth:!0,className:"".concat(e.textField," ").concat(e.space),InputLabelProps:{classes:t},label:"Lastname",type:"text",value:R,onChange:function(e){return B(e.target.value)}}),r.a.createElement(Q.a,{"data-testid":"inputEmail",fullWidth:!0,className:"".concat(e.textField," ").concat(e.space),InputLabelProps:{classes:t},label:"Email",type:"text",value:x,onChange:function(e){return y(e.target.value)}}),r.a.createElement(Q.a,{"data-testid":"inputPassword",fullWidth:!0,className:"".concat(e.textField," ").concat(e.space),InputLabelProps:{classes:t},label:"Password",type:g?"text":"password",value:c,onChange:function(e){return i(e.target.value)},InputProps:{endAdornment:r.a.createElement(ee.a,{position:"end"},r.a.createElement(X.a,{"aria-label":"toggle password visibility",onClick:function(e){return f(!g)}},g?r.a.createElement(ae.a,null):r.a.createElement(re.a,null)))}}),r.a.createElement(Q.a,{"data-testid":"inputPassword2",fullWidth:!0,className:"".concat(e.textField," ").concat(e.space),InputLabelProps:{classes:t},label:"Confirm Password",type:j?"text":"password",value:d,onChange:function(e){return m(e.target.value)},InputProps:{endAdornment:r.a.createElement(ee.a,{position:"end"},r.a.createElement(X.a,{"aria-label":"toggle password visibility",onClick:function(e){return O(!j)}},j?r.a.createElement(ae.a,null):r.a.createElement(re.a,null)))}}),r.a.createElement(V.a,{"data-testid":"buttonSignUp",className:"".concat(e.signUpButton," ").concat(e.space),type:"submit",onClick:function(e){return $(e)}},"SIGN UP")))},we=a(53),ve=a(188),xe=a.n(ve),ye=a(403),Ce=a(202),Se=(a(200),a(138)),_e=a(139),ke=a(72),Ne=a(365),Ie=a(114),Re=a(404),Be=a(405),De=a(110);a(189),Object(K.a)((function(e){return{root:{display:"flex"},appBarIcon:Object(G.a)({color:"white",fontSize:30,"&:focus":{color:ye.a[500]}},e.breakpoints.down(460),{fontSize:24}),gridElement:{gridColumnStart:1,"&:focus":{outline:"none"}},color1:{backgroundColor:k.a[600],margin:2,height:40,width:40,"&:hover":{backgroundColor:k.a[500]}},color2:{backgroundColor:Ie.a[600],margin:2,height:40,width:40,"&:hover":{backgroundColor:Ie.a[500]}},color3:{backgroundColor:Re.a[600],margin:2,height:40,width:40,"&:hover":{backgroundColor:Re.a[500]}},color4:{backgroundColor:Be.a[600],margin:2,height:40,width:40,"&:hover":{backgroundColor:Be.a[500]}},color5:{backgroundColor:De.a[600],margin:2,height:40,width:40,"&:hover":{backgroundColor:De.a[500]}},color6:{backgroundColor:ye.a[600],margin:2,height:40,width:40,"&:hover":{backgroundColor:ye.a[500]}},menuList:{display:"flex",flexWrap:"wrap",width:152,padding:10}}}));var Fe=a(131),Le=a.n(Fe),Ae=a(112),Me=a(191),We=a.n(Me),Pe=Object(K.a)((function(e){return{appBarIcon:Object(G.a)({color:"white",fontSize:30,"&:focus":{color:ye.a[500]}},e.breakpoints.down(460),{fontSize:24}),gridElement:{gridColumnStart:3,"&:focus":{outline:"none"}},menuList:{display:"flex",flexDirection:"column",padding:10},menuItem:{borderBottom:"1px solid rgba(0,0,0,0.2)",padding:10},userInfo:{textAlign:"center",justifyContent:"center",margin:0},disconnectButton:{fontSize:10,"&:hover":{backgroundColor:Ae.a[50],color:Ae.a[500]},"&:focus":{outline:"none",color:Ae.a[500]}}}}));function Te(){var e=Pe(),t=r.a.useState(!1),a=Object(Y.a)(t,2),o=a[0],c=a[1],i=Object(n.useRef)(null),s=Object(l.b)(),u=Object(l.c)((function(e){return e.user})),d=Object(M.g)();var m=r.a.useRef(o);return r.a.useEffect((function(){!0===m.current&&!1===o&&i.current.focus(),m.current=o}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{size:"small",ref:i,"aria-controls":o?"menu-list-grow":void 0,"aria-haspopup":"true",className:e.gridElement,onClick:function(){c((function(e){return!e}))}},r.a.createElement(Le.a,{className:e.appBarIcon})),r.a.createElement(_e.a,{open:o,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0},r.a.createElement(Se.a,null,r.a.createElement(Ce.a,{onClickAway:function(e){i.current&&i.current.contains(e.target)||c(!1)}},r.a.createElement(Ne.a,{className:e.menuList,autoFocusItem:o,id:"menu-list-grow",onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),c(!1))}},r.a.createElement("p",{className:"".concat(e.menuItem," ").concat(e.userInfo)},u.firstname," ",u.lastname),r.a.createElement(ke.a,{className:"".concat(e.menuItem," ").concat(e.disconnectButton),onClick:function(e){return function(e){e.preventDefault(),s(D({userId:"",firstname:"",lastname:"",email:""})),d.push("/Expenses/")}(e)}},r.a.createElement(We.a,null),"DISCONNECT"))))))}var Ue=a(406),ze=a(407),Ye=Object(K.a)((function(e){var t;return{appBar:{gridColumnStart:1,gridRowStart:1,backgroundColor:k.a[600]},toolBar:{display:"flex",justifyContent:"space-between"},rowSection:{display:"flex",alignItems:"center"},logo:(t={position:"relative",width:40,height:40},Object(G.a)(t,e.breakpoints.down(460),{width:24,height:24}),Object(G.a)(t,"marginRight",5),t),titleLogo:{color:"white",margin:0},grow:{flexGrow:1},date:Object(G.a)({color:"white",fontSize:18,margin:"0px 10px 0px 10px"},e.breakpoints.down(460),{fontSize:12}),appBarIcon:Object(G.a)({color:"white",fontSize:30,focusVisible:!1,"&:focus":{color:ye.a[500]}},e.breakpoints.down(460),{fontSize:24}),gridElement1:Object(G.a)({gridColumnStart:1,"&:focus":{outline:"none"}},e.breakpoints.down(460),{width:"auto"}),gridElement2:{gridColumnStart:2,"&:focus":{outline:"none"}},gridElement3:{gridColumnStart:3,"&:focus":{outline:"none"}}}}));var Ge=function(){var e=Ye(),t=Object(n.useState)(),a=Object(Y.a)(t,2),o=a[0],c=a[1],i=Object(l.c)((function(e){return e.expenses.dateFrom})),s=(Object(l.c)((function(e){return e.expenses.dateTo})),function(){c(window.innerWidth)});return Object(n.useEffect)((function(){return window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[window.Width]),r.a.createElement(Ue.a,{position:"static",className:e.appBar},r.a.createElement(ze.a,{className:e.toolBar},r.a.createElement("div",{className:e.rowSection},r.a.createElement("img",{src:ce,alt:"logo",className:e.logo}),o>480&&r.a.createElement("h1",{className:e.titleLogo},"Wallet")),r.a.createElement("div",{className:e.rowSection},r.a.createElement("h2",{className:e.date},new Date(i).getDate(),"-",new Date(i).getMonth()+1,"-",new Date(i).getFullYear()),r.a.createElement("h2",{className:e.date},new Date(i).getDate(),"-",new Date(i).getMonth()+1,"-",new Date(i).getFullYear())),r.a.createElement("div",{className:xe.a.gridMenu},r.a.createElement(Te,null))))},qe=a(192),He=a.n(qe),$e=a(193),Ze=a.n($e),Je=Object(K.a)((function(e){return{datePicker:{width:200,alignSelf:"center"},dateRangeButton:{fontWeight:"bold",color:De.a[600]},refreshButton:Object(G.a)({display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",backgroundColor:k.a[500],color:"white",borderRadius:"4px",padding:10,marginLeft:20,"&:hover":{backgroundColor:k.a[300]},"&:focus":{outline:"none"}},e.breakpoints.down(520),{fontSize:12,marginLeft:5}),refreshIcon:{marginRight:e.spacing(1)}}})),Ke=Object(K.a)((function(e){var t;return{root:(t={outline:"none"},Object(G.a)(t,e.breakpoints.down(380),{}),Object(G.a)(t,"&$focused",{}),t),focused:{}}})),Ve=Object(K.a)((function(e){var t;return{root:(t={outline:"none"},Object(G.a)(t,e.breakpoints.down(380),{fontSize:12}),Object(G.a)(t,"&$focused",{color:oe.a[300],borderBottomColor:k.a[300]}),t),focused:{}}}));var Xe=function(){var e=Je(),t=Ke(),a=Ve(),o=Object(n.useState)(window.innerWidth),c=Object(Y.a)(o,2),i=c[0],s=c[1],u=function(){s(window.innerWidth)};Object(n.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}));var m=Object(l.b)(),p=Object(l.c)((function(e){return e.expenses.expenses})),b=Object(l.c)((function(e){return e.earnings.earnings})),E=(Object(l.c)((function(e){return e.expenses.from})),Object(l.c)((function(e){return e.expenses.to})),Object(n.useState)(d()().format("YYYY-MM-DD"))),j=Object(Y.a)(E,2),O=j[0],w=j[1],v=Object(n.useState)(d()().format("YYYY-MM-DD")),x=Object(Y.a)(v,2),_=x[0],k=x[1],N=function(){var e=new Date(O),t=new Date(_),a=[],n=[];console.log(e+t),p.forEach((function(n){var r=new Date(n.date);r>=e&&r<=t&&a.push(n)})),m(h(a)),b.forEach((function(a){var r=new Date(a.date);r>=e&&r<=t&&n.push(a)})),m(S(n))};return Object(n.useEffect)((function(){console.log("refresh data"),N()}),[p,b]),Object(n.useEffect)((function(){m(g(O)),m(f(_)),m(y(O)),m(C(_))}),[]),r.a.createElement("div",{className:He.a.box},r.a.createElement(Q.a,{label:"From",type:"date",value:O,InputProps:{classes:a},InputLabelProps:{classes:t},className:e.datePicker,onChange:function(e){return w(e.target.value)}}),r.a.createElement(Q.a,{label:"To",type:"date",value:_,InputProps:{classes:a},InputLabelProps:{classes:t},className:e.datePicker,onChange:function(e){return k(e.target.value)}}),r.a.createElement(V.a,{className:e.refreshButton,onClick:function(e){return function(e){e.preventDefault(),m(g(O)),m(f(_)),m(y(O)),m(C(_)),N()}(e)}},r.a.createElement(Ze.a,{className:e.refreshIcon}),i>480?"Refresh":""))},Qe=a(194),et=a.n(Qe);var tt=function(){var e=Object(l.c)((function(e){return e.theme})).wallet,t=Object(K.a)((function(){return{progress:{margin:"auto",color:e}}}))();return r.a.createElement("div",{className:et.a.walletExpenseGrid},r.a.createElement(me.a,{className:t.progress}))},at=a(195),nt=Object(K.a)((function(e){var t;return{grid:(t={overflow:"auto",boxShadow:"0 0 10px 0 rgba(75, 75, 75, 0.5)",gridColumn:"1 / 3",gridRow:"3 / 4",minHeight:240,height:"auto"},Object(G.a)(t,e.breakpoints.between(601,800),{gridColumn:"1 / 3",gridRow:"4 / 5"}),Object(G.a)(t,e.breakpoints.down(600),{gridColumn:"1 / 3",gridRow:"5 / 6"}),t)}}));var rt=function(){var e,t=nt(),a=Object(n.useState)(!1),o=Object(Y.a)(a,2),c=o[0],i=(o[1],Object(l.c)((function(e){return e.expenses.subExpenses}))),s=[],u=Object(we.a)(i);try{for(u.s();!(e=u.n()).done;){var d=e.value,m={};m.id=d.id,m.userId=d.userId;var p=new Date(d.date);m.date=p,m.name=d.name,m.amount=d.amount,m.categories=d.categories,m.currency=d.currency,m.type=d.type,m.source_type=d.source_type,s.push(m)}}catch(b){u.e(b)}finally{u.f()}return c?r.a.createElement(tt,null):r.a.createElement("div",{className:t.grid},r.a.createElement(at.a,{rows:s,columns:[{field:"name",headerName:"NAME",width:300},{field:"date",headerName:"DATE",width:300},{field:"categories",headerName:"CATEGORIES",width:300},{field:"amount",headerName:"AMOUNT",width:300},{field:"currency",headerName:"CURRENCY",width:300},{field:"type",headerName:"TYPE",width:300},{field:"source_type",headerName:"SOURCE TYPE",width:300}],pageSize:10,checkboxSelection:!0}))},ot=Z.a.create({baseURL:"https://service-expenses-bck.herokuapp.com"}),ct=a(413),lt=a(412),it=a(408),st=a(362),ut=a(108),dt=a.n(ut),mt=a(91),pt=a.n(mt),bt=a(111),gt=a(60),ft=Object(K.a)((function(e){var t;return{modal:{display:"flex",justifyContent:"center",alignItems:"center"},newExpenseButton:(t={gridColumn:"2 / 2",gridRow:"1 / 3",color:"white",alignSelf:"center",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:ye.a.A700,boxShadow:"0 0 10px 0 rgba(150, 150, 150, 0.3)"},Object(G.a)(t,"color","rgba(255,255,255,0.8)"),Object(G.a)(t,"fontWeight","bold"),Object(G.a)(t,"borderRadius","4px"),Object(G.a)(t,"padding",10),Object(G.a)(t,"&:hover",{backgroundColor:ye.a[200]}),Object(G.a)(t,"&:focus",{outline:"none"}),t),newExpenseIcon:{marginRight:e.spacing(1),color:"rgba(255,255,255,0.8)",height:32,width:32},paper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",paddingTop:50,paddingBottom:50,width:500,borderRadius:6},space:{height:50},form:{display:"flex",flexDirection:"column",alignItems:"center"},submitButton:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:ye.a[500],color:"white",justifySelf:"end",borderRadius:"4px","&:hover":{backgroundColor:ye.a[800]},"&:focus":{outline:"none"}},submitButtonDisabled:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:De.a[300],color:"white",justifySelf:"end",borderRadius:"4px"},cancelButton:{color:De.a[500],justifySelf:"end",borderRadius:"4px","&:hover":{color:De.a[800]},"&:focus":{outline:"none"}},textField:{marginTop:10,marginBottom:10,width:"100%"},addCategoryButton:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",color:"white",backgroundColor:ye.a[500],height:"auto","&:hover":{backgroundColor:ye.a[300]},"&:focus":{outline:"none"}},rowBox:{display:"flex",justifyContent:"center",width:"100%"},alignRight:{justifySelf:"flex-end",alignSelf:"flex-end"},alignLeft:{justifySelf:"flex-start",alignSelf:"flex-start"},categoryContainer:{display:"flex",flexWrap:"wrap",marginTop:10},category:{backgroundColor:bt.a[300],padding:4,color:"white",borderRadius:4,margin:4},title:{color:ye.a[500]}}}));var ht=function(){var e=ft(),t=[{value:"EUR",flag:r.a.createElement(gt.IconFlagEU,null)},{value:"USD",flag:r.a.createElement(gt.IconFlagUS,null)},{value:"GBP",flag:r.a.createElement(gt.IconFlagUK,null)}],a=Object(n.useState)(!1),o=Object(Y.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(),u=Object(Y.a)(s,2),m=u[0],p=u[1],b=Object(n.useState)(),g=Object(Y.a)(b,2),f=g[0],h=g[1],O=Object(n.useState)([]),w=Object(Y.a)(O,2),v=w[0],x=w[1],y=Object(n.useState)(),C=Object(Y.a)(y,2),S=C[0],_=C[1],k=Object(n.useState)(0),N=Object(Y.a)(k,2),I=N[0],R=N[1],B=Object(n.useState)(),D=Object(Y.a)(B,2),F=D[0],L=D[1],A=Object(n.useState)(),M=Object(Y.a)(A,2),W=M[0],T=M[1],G=Object(n.useState)(),q=Object(Y.a)(G,2),H=q[0],$=q[1],Z=Object(n.useState)(!0),J=Object(Y.a)(Z,2),K=J[0],X=J[1],ee=Object(l.c)((function(e){return e.user.userId})),te=Object(l.b)(),ae=function(){p(),h(),_(),x([]),R(),L(),T(),$(),i(!1),X(!0)},ne=function(){var e=Object(z.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a={}).userId=ee,a.type=W,a.source_type=H,a.date=parseInt(Date.parse(f)),a.categories=P()(v)?["Other"]:v,a.name=m,a.amount=parseInt(I),a.currency=F,e.next=12,ot.post("/expense",a);case 12:200===e.sent.status?(te(E()),te(j("success"))):te(j("error")),ae();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){P()(m)||P()(f)||P()(I)||P()(F)||X(!1)}),[m,f,I,F]),Object(n.useEffect)((function(){}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:e.newExpenseButton,onClick:function(){h(d()().format("YYYY-MM-DD")),i(!0)}},r.a.createElement(dt.a,{className:e.newExpenseIcon}),"NEW EXPENSE"),r.a.createElement(lt.a,{"aria-labelledby":"Modal-create-new-expense","aria-describedby":"Modal-create-new-expense",className:e.modal,open:c,closeAfterTransition:!0,BackdropComponent:it.a,BackdropProps:{timeout:500}},r.a.createElement(st.a,{in:c},r.a.createElement("div",{className:e.paper},r.a.createElement("h2",{className:e.title},"New Expense"),r.a.createElement("form",{className:e.form},r.a.createElement(Q.a,{required:!0,multiline:!0,className:e.textField,type:"text",label:"Name",onChange:function(e){return p(e.target.value)}}),r.a.createElement(Q.a,{required:!0,className:e.textField,type:"date",label:"Date",value:f,onChange:function(e){return h(e.target.value)},InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:e.rowBox},r.a.createElement(Q.a,{select:!0,type:"text",label:"Category",className:e.textField,style:{marginRight:10,marginBottom:0},value:S||"",onChange:function(e){return _(e.target.value)}},["Groceries","Shopping","Bill","Rent payment","Entertainment","Other"].map((function(e){return r.a.createElement(ke.a,{key:e,value:e},e)}))),r.a.createElement(V.a,{className:"".concat(e.addCategoryButton," ").concat(e.alignRight),onClick:function(){return function(e){if(!P()(e)&&!v.includes(e)){var t=v.slice();t.push(e),x(t)}}(S)}},r.a.createElement(pt.a,null),"Add")),r.a.createElement("div",{className:e.categoryContainer},v.map((function(t){return r.a.createElement("p",{key:Object(ct.a)(),className:e.category},t)}))),r.a.createElement(Q.a,{required:!0,type:"number",label:"Amount",className:e.textField,onChange:function(e){return R(e.target.value)}}),r.a.createElement(Q.a,{required:!0,select:!0,type:"text",label:"Currency",value:F||"",className:e.textField,onChange:function(e){return L(e.target.value)}},t.map((function(e){return r.a.createElement(ke.a,{key:Object(ct.a)(),value:e.value},e.flag," ",e.value)}))),r.a.createElement(Q.a,{select:!0,type:"text",label:"Type",value:W||"",className:e.textField,onChange:function(e){return T(e.target.value)}},["Cash","Credit Card"].map((function(e){return r.a.createElement(ke.a,{key:Object(ct.a)(),value:e},e)}))),r.a.createElement(Q.a,{select:!0,type:"text",label:"Source Type",value:H||"",className:e.textField,onChange:function(e){return $(e.target.value)}},["Cash","Revolut","Caisse Epargne","BNP Paribas","Societe Generale","HSBC","Credit agricole","Boursorama","Other"].map((function(e){return r.a.createElement(ke.a,{key:Object(ct.a)(),value:e},e)}))),r.a.createElement("div",{className:e.space}),r.a.createElement("div",{className:"".concat(e.rowBox," ").concat(e.alignRight)},r.a.createElement(V.a,{className:"".concat(e.cancelButton," ").concat(e.alignRight),onClick:function(e){return ae()}},"CANCEL"),r.a.createElement(V.a,{disabled:K,className:"".concat(K?e.submitButtonDisabled:e.submitButton," ").concat(e.alignRight),type:"submit",onClick:function(e){return ne(e)}},r.a.createElement(pt.a,{className:e.newExpenseIcon}),"ADD NEW EXPENSE")))))))},Et=Object(K.a)((function(e){var t;return{mainContainer:(t={display:"grid",gridTemplateRows:"auto [row1] 1fr [row2]",gridTemplateColumns:"1fr [col1] auto [col2]",boxShadow:"0 0 10px 0 rgba(75, 75, 75, 0.5)",borderRadius:4,padding:10,backgroundColor:ye.a[400],color:"white"},Object(G.a)(t,e.breakpoints.down(601),{gridColumn:"1 / 2",gridRow:"1 / 2"}),Object(G.a)(t,e.breakpoints.down(600),{gridColumn:"1 / 3",gridRow:"1 / 1"}),t),elem1:{color:"rgba(255,255,255,0.5)",gridColumn:"1 / 1",gridRow:"1 / 1"},elem2:{gridColumn:"1 / 1",gridRow:"2 / 2"}}}));var jt=function(){var e=Et(),t=Object(n.useState)(),a=Object(Y.a)(t,2),o=a[0],c=a[1],i=Object(l.c)((function(e){return e.expenses.subExpenses}));return Object(n.useEffect)((function(){c(function(){var e=0;if(!P()(i)){var t,a=Object(we.a)(i);try{for(a.s();!(t=a.n()).done;)e+=t.value.amount}catch(n){a.e(n)}finally{a.f()}}return Math.round(100*e)/100}())}),[i]),r.a.createElement("div",{className:e.mainContainer},r.a.createElement("h5",{className:e.elem1},"Total Expenses "),r.a.createElement(ht,null),r.a.createElement("h2",null,!P()(o)&&o))},Ot=Object(K.a)((function(e){var t;return{modal:{display:"flex",justifyContent:"center",alignItems:"center"},newEarningsButton:(t={gridColumn:"2 / 2",gridRow:"1 / 3",color:"white",alignSelf:"center",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:k.a[700],boxShadow:"0 0 10px 0 rgba(150, 150, 150, 0.3)"},Object(G.a)(t,"color","rgba(255,255,255,0.8)"),Object(G.a)(t,"fontWeight","bold"),Object(G.a)(t,"borderRadius","4px"),Object(G.a)(t,"padding",10),Object(G.a)(t,"&:hover",{backgroundColor:k.a[200]}),Object(G.a)(t,"&:focus",{outline:"none"}),t),newEarningsIcon:{marginRight:e.spacing(1),color:"rgba(255,255,255,0.8)",height:32,width:32},paper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",paddingTop:50,paddingBottom:50,width:500,borderRadius:6},space:{height:50},form:{display:"flex",flexDirection:"column",alignItems:"center"},submitButton:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:k.a[500],color:"white",justifySelf:"end",borderRadius:"4px","&:hover":{backgroundColor:k.a[800]}},submitButtonDisabled:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:De.a[300],color:"white",justifySelf:"end",borderRadius:"4px"},cancelButton:{color:De.a[500],justifySelf:"end",borderRadius:"4px","&:hover":{color:De.a[800]}},textField:{marginTop:10,marginBottom:10,width:"100%"},addCategoryButton:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",color:"white",backgroundColor:ye.a[500],height:"auto","&:hover":{backgroundColor:ye.a[300]}},rowBox:{display:"flex",justifyContent:"center",width:"100%"},alignRight:{justifySelf:"flex-end",alignSelf:"flex-end"},alignLeft:{justifySelf:"flex-start",alignSelf:"flex-start"},categoryContainer:{display:"flex",flexWrap:"wrap",marginTop:10},category:{backgroundColor:bt.a[300],padding:4,color:"white",borderRadius:4,margin:4},title:{color:k.a[500]}}}));var wt=function(){var e=Ot(),t=[{value:"EUR",flag:r.a.createElement(gt.IconFlagEU,null)},{value:"USD",flag:r.a.createElement(gt.IconFlagUS,null)},{value:"GBP",flag:r.a.createElement(gt.IconFlagUK,null)}],a=Object(n.useState)(!1),o=Object(Y.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(),u=Object(Y.a)(s,2),m=u[0],p=u[1],b=Object(n.useState)(d()().format("YYYY-MM-DD")),g=Object(Y.a)(b,2),f=g[0],h=g[1],O=Object(n.useState)([]),w=Object(Y.a)(O,2),v=(w[0],w[1],Object(n.useState)(0)),x=Object(Y.a)(v,2),y=x[0],C=x[1],S=Object(n.useState)(),_=Object(Y.a)(S,2),k=_[0],N=_[1],I=Object(n.useState)(),R=Object(Y.a)(I,2),B=R[0],D=R[1],F=Object(n.useState)(),L=Object(Y.a)(F,2),A=L[0],M=L[1],W=Object(n.useState)(!0),T=Object(Y.a)(W,2),G=T[0],q=T[1],H=Object(l.c)((function(e){return e.user.userId})),$=Object(l.b)(),Z=function(){p(),h(),C(),N(""),D(),M(),i(!1),q(!0)},J=function(){var e=Object(z.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a={}).userId=H,a.type=B,a.source_type=A,a.date=parseInt(Date.parse(f)),a.name=m,a.amount=parseInt(y),a.currency=k,console.log(a),e.next=12,ot.post("/earning",a);case 12:200===e.sent.status?($(E()),$(j("success"))):$(j("error")),Z();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){P()(m)||P()(f)||P()(y)||P()(k)||q(!1)}),[m,f,y,k]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:e.newEarningsButton,onClick:function(){h(d()().format("YYYY-MM-DD")),i(!0)}},r.a.createElement(dt.a,{className:e.newEarningsIcon}),"NEW EARNINGS"),r.a.createElement(lt.a,{"aria-labelledby":"Modal-create-new-expense","aria-describedby":"Modal-create-new-expense",className:e.modal,open:c,closeAfterTransition:!0,BackdropComponent:it.a,BackdropProps:{timeout:500}},r.a.createElement(st.a,{in:c},r.a.createElement("div",{className:e.paper},r.a.createElement("h2",{className:e.title},"New Earnings"),r.a.createElement("form",{className:e.form},r.a.createElement(Q.a,{required:!0,multiline:!0,className:e.textField,type:"text",label:"From",onChange:function(e){return p(e.target.value)}}),r.a.createElement(Q.a,{required:!0,className:e.textField,type:"date",label:"Date",value:f,onChange:function(e){return h(e.target.value)},InputLabelProps:{shrink:!0}}),r.a.createElement(Q.a,{required:!0,type:"number",label:"Amount",className:e.textField,onChange:function(e){return C(e.target.value)}}),r.a.createElement(Q.a,{required:!0,select:!0,type:"text",label:"Currency",value:k||"",className:e.textField,onChange:function(e){return N(e.target.value)}},t.map((function(e){return r.a.createElement(ke.a,{key:Object(ct.a)(),value:e.value},e.flag," ",e.value)}))),r.a.createElement(Q.a,{select:!0,type:"text",label:"Type",value:B||"",className:e.textField,onChange:function(e){return D(e.target.value)}},["Cash","Cheque","Bank Transfer"].map((function(e){return r.a.createElement(ke.a,{key:Object(ct.a)(),value:e},e)}))),r.a.createElement(Q.a,{select:!0,type:"text",label:"Bank",value:A||"",className:e.textField,onChange:function(e){return M(e.target.value)}},["Cash","Revolut","Caisse Epargne","BNP Paribas","Societe Generale","HSBC","Credit agricole","Boursorama","Other"].map((function(e){return r.a.createElement(ke.a,{key:Object(ct.a)(),value:e},e)}))),r.a.createElement("div",{className:e.space}),r.a.createElement("div",{className:"".concat(e.rowBox," ").concat(e.alignRight)},r.a.createElement(V.a,{className:"".concat(e.cancelButton," ").concat(e.alignRight),onClick:function(e){return Z()}},"CANCEL"),r.a.createElement(V.a,{disabled:G,className:"".concat(G?e.submitButtonDisabled:e.submitButton," ").concat(e.alignRight),type:"submit",onClick:function(e){return J(e)}},r.a.createElement(pt.a,{className:e.newEarningsIcon}),"ADD NEW EARNINGS")))))))},vt=Object(K.a)((function(e){var t;return{mainContainer:(t={display:"grid",gridTemplateRows:"auto [row1] 1fr [row2]",gridTemplateColumns:"1fr [col1] auto [col2]",boxShadow:"0 0 10px 0 rgba(75, 75, 75, 0.5)",borderRadius:4,padding:10,color:"white",backgroundColor:k.a[400]},Object(G.a)(t,e.breakpoints.up(601),{gridColumn:"2 / 3",gridRow:"1 / 2"}),Object(G.a)(t,e.breakpoints.down(600),{gridColumn:"1 / 3",gridRow:"2 / 3"}),t),elem1:{color:"rgba(255,255,255,0.5)",gridColumn:"1 / 1",gridRow:"1 / 1"},elem2:{color:"white",gridColumn:"1 / 1",gridRow:"2 / 2"},icon:{color:"rgba(255,255,255,0.5)",gridColumn:"2 / 2",gridRow:"1 / span 2",width:50,height:50,alignSelf:"center"}}}));var xt=function(){var e=vt(),t=Object(n.useState)(),a=Object(Y.a)(t,2),o=a[0],c=a[1],i=Object(l.c)((function(e){return e.earnings.subEarnings}));return Object(n.useEffect)((function(){c(function(){var e=0;if(!P()(i)){var t,a=Object(we.a)(i);try{for(a.s();!(t=a.n()).done;)e+=t.value.amount}catch(n){a.e(n)}finally{a.f()}}return Math.round(100*e)/100}())}),[i]),r.a.createElement("div",{className:e.mainContainer},r.a.createElement("h5",{className:e.elem1},"Total Earnings "),r.a.createElement(wt,null),r.a.createElement("h2",null,!P()(o)&&o))},yt=a(109),Ct=(a(182),Object(K.a)((function(e){var t;return{box:(t={display:"grid",gridTemplateColumns:"1fr [col1]",gridTemplateRows:"48px [row1] 1fr [row2]",boxShadow:"0 0 20px 0 rgba(50, 50, 50, 0.7)",borderRadius:4,padding:30,backgroundColor:Ie.a[200]},Object(G.a)(t,e.breakpoints.between(601,800),{gridColumn:"1 / 3",gridRow:"2 / 3"}),Object(G.a)(t,e.breakpoints.down(600),{gridColumn:"1 / 3",gridRow:"3 / 4"}),t),title:{gridColumn:"1 / 1",gridrow:"1 / 1",color:"white",marginBottom:20},canvasContainer:Object(G.a)({position:"relative",gridColumn:"1 / 1",gridRow:"2 / 3",width:"100%",height:"auto",maxHeight:"400px"},e.breakpoints.down(800),{width:"100%",height:"auto",maxHeight:"312px"})}})));var St=function(){var e=Ct(),t=Object(n.useState)(),a=Object(Y.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!0),s=Object(Y.a)(i,2),u=s[0],d=s[1],m=(Object(n.useRef)(null),Object(l.c)((function(e){return e.expenses.subExpenses}))),p=Object(l.c)((function(e){return e.earnings.subEarnings})),b=Object(n.useState)({maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!0,autoSkip:!0,maxTicksLimit:10,fontColor:"white"},gridLines:{display:!0,color:"rgba(255,255,255,.3)"},scaleLabel:{display:!0,labelString:"Amount per day",fontColor:"rgb(255,255,255)"}}],xAxes:[{gridLines:{display:!0,color:"rgba(255,255,255,.3)"},type:"time",ticks:{autoSkip:!0,maxTicksLimit:10,fontColor:"white"},time:{displayFormats:{day:"MMM D"},unit:"day"},scaleLabel:{display:!0,labelString:"Date",fontColor:"rgb(255,255,255)"},distribution:"linear",bounds:"ticks"}]},legend:{display:!0,position:"bottom",labels:{fontColor:"white",fontSize:16}}}),g=Object(Y.a)(b,2),f=g[0],h=(g[1],function(e){var t=[],a={};e.forEach((function(e){a[e.date]?a[e.date.toString()]+=e.amount:a[e.date.toString()]=e.amount}));for(var n=0,r=Object.entries(a);n<r.length;n++){var o=Object(Y.a)(r[n],2),c=o[0],l=o[1],i=parseInt(c);t.push({x:i,y:l})}return t=t.sort((function(e,t){return e.x-t.x}))});return Object(n.useEffect)((function(){var e=m.slice();e=e.sort((function(e,t){return t.date-e.date}));var t=h(e),a=p.slice();a=a.sort((function(e,t){return t.date-e.date}));var n=h(a);c({datasets:[{label:"Earnings",data:n,backgroundColor:k.a[300],borderColor:k.a[700],pointBorderColor:k.a[700],borderWidth:1},{label:"Expenses",data:t,backgroundColor:ye.a[200],borderColor:ye.a[700],pointBorderColor:ye.a[700],borderWidth:1}]}),d(!1)}),[m]),u?r.a.createElement(tt,null):r.a.createElement("div",{className:e.box},r.a.createElement("h1",{className:e.title},"Daily Chart"),r.a.createElement("div",{className:e.canvasContainer},r.a.createElement(yt.Bar,{data:o,options:f})))},_t=(a(354),a(409)),kt=a(113),Nt=a(115),It=a(410),Rt=a(411),Bt=Object(K.a)((function(e){var t;return{box:(t={display:"grid",gridTemplateColumns:"1fr [col1]",gridTemplateRows:"48px [row1] 1fr [row2]",boxShadow:"0 0 20px 0 rgba(100, 100, 100, 0.7)",borderRadius:4,padding:30,backgroundColor:_t.a[200]},Object(G.a)(t,e.breakpoints.between(601,800),{gridColumn:"1 / 3",gridRow:"3 / 4"}),Object(G.a)(t,e.breakpoints.down(600),{gridColumn:"1 / 3",gridRow:"4 / 5"}),t),title:{gridColumn:"1 / 1",gridrow:"1 / 1",color:"white",marginBottom:20},canvasContainer:{position:"relative",gridColumn:"1 / 1",gridrow:"2 / 2",width:"100% !important",margin:"auto"}}}));var Dt=function(){var e=[{bcg:kt.a[300],border:kt.a[700]},{bcg:_t.a[300],border:_t.a[700]},{bcg:bt.a[300],border:bt.a[700]},{bcg:Re.a[300],border:Re.a[700]},{bcg:k.a[300],border:k.a[700]},{bcg:Nt.a[300],border:Nt.a[700]},{bcg:It.a[300],border:It.a[700]},{bcg:Rt.a[300],border:Rt.a[700]},{bcg:ye.a[300],border:ye.a[700]}],t=Bt(),a=Object(n.useState)(),o=Object(Y.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(),u=Object(Y.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!0),b=Object(Y.a)(p,2),g=b[0],f=b[1],h=(Object(n.useRef)(null),Object(l.c)((function(e){return e.expenses.subExpenses})));return Object(n.useEffect)((function(){for(var t=function(e){var t={},a=[],n=[];e.forEach((function(e){e.categories?e.categories.forEach((function(a){t[a]?t[a]+=e.amount:t[a]=e.amount})):t.other?t.other+=e.amount:t.other=e.amount}));for(var r=0,o=Object.entries(t);r<o.length;r++){var c=Object(Y.a)(o[r],2),l=c[0],i=c[1];a.push(l),n.push(i)}return{labels:a,data:n}}(h),a=t.labels,n=t.data,r=a.length,o=e.length,c=[],l=[],s=[],u=0,d=0;d<r;d++){do{u=Math.round(100*Math.random())%o}while(c.includes(u));c.push(u),l.push(e[u].bcg),s.push(e[u].border)}i({datasets:[{data:n,backgroundColor:l,borderColor:s,borderWidth:1}],labels:a}),m({maintainAspectRatio:!1,responsive:!0,legend:{display:!0,position:"bottom",labels:{fontColor:"white",fontSize:16}}}),f(!1)}),[h]),g?r.a.createElement(tt,null):r.a.createElement("div",{className:t.box},r.a.createElement("h1",{className:t.title},"Categories"),r.a.createElement("div",{className:t.canvasContainer},r.a.createElement(yt.Doughnut,{data:c,options:d})))},Ft=a(196),Lt=a.n(Ft);var At=function(){var e=Object(n.useState)(!1),t=Object(Y.a)(e,2),a=t[0];return t[1],r.a.createElement("div",{className:Lt.a.mainContainer},r.a.createElement(jt,null),r.a.createElement(xt,null),r.a.createElement(St,null),r.a.createElement(Dt,null),a?r.a.createElement(tt,null):r.a.createElement(rt,null))},Mt=a(137),Wt=a.n(Mt),Pt=Object(K.a)((function(e){return{root:{display:"flex",alignItems:"center"},grow:{flexGrow:1},inputRoot:{color:"inherit"},searchIconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(0,2)},searchBar:{display:"flex",backgroundColor:k.a[400],borderRadius:4,"&:hover":{backgroundColor:k.a[300]}},rowChart:{display:"flex",alignItems:"flex-start"}}}));var Tt=function(){Pt();var e=Object(n.useState)(!1),t=Object(Y.a)(e,2),a=(t[0],t[1]),o=Object(n.useState)([]),c=Object(Y.a)(o,2),i=(c[0],c[1]),s=Object(n.useState)([]),u=Object(Y.a)(s,2),d=(u[0],u[1],Object(l.b)()),m=Object(l.c)((function(e){return e.expenses.reload})),p=(Object(l.c)((function(e){return e.expenses.alertAdd})),Object(l.c)((function(e){return e.user.userId})));return Object(M.g)(),Object(n.useEffect)((function(){Object(z.a)(U.a.mark((function e(){var t,n,r,o,c,l,s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/earnings?userId=".concat(p),a(!0),e.next=5,ot.get(t);case 5:n=e.sent,a(!1),r=[],o=Object(we.a)(n.data);try{for(o.s();!(c=o.n()).done;)l=c.value,(s={}).id=l._id,s.userId=l.userId,s.date=parseInt(l.date),s.name=l.name,s.source_type=l.source_type,s.type=l.type,s.amount=parseFloat(l.amount),s.currency=l.currency,delete l._id,r.push(s)}catch(u){o.e(u)}finally{o.f()}d(x(r)),e.next=23;break;case 13:e.prev=13,e.t0=e.catch(0),e.t1=e.t0.response.status,e.next=400===e.t1?18:21;break;case 18:return console.log("Result not found for this user"),i("No data "),e.abrupt("break",23);case 21:console.log("Oops, Somthing wrong happened during request Earnings"),i("Error on request");case 23:case"end":return e.stop()}}),e,null,[[0,13]])})))(),Object(z.a)(U.a.mark((function e(){var t,n,r,o,c,l,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/expenses?userId=".concat(p),a(!0),e.next=5,ot.get(t);case 5:n=e.sent,a(!1),r=[],o=Object(we.a)(n.data);try{for(o.s();!(c=o.n()).done;)l=c.value,(i={}).id=l._id,i.userId=l.userId,i.date=parseInt(l.date),i.name=l.name,i.categories=l.categories,i.source_type=l.source_type,i.type=l.type,i.amount=parseFloat(l.amount),i.currency=l.currency,delete l._id,r.push(i)}catch(s){o.e(s)}finally{o.f()}d(b(r)),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[m]),r.a.createElement("div",{className:Wt.a.wallet},r.a.createElement(Ge,null),r.a.createElement("div",{className:Wt.a.filterContainer},r.a.createElement(Xe,null)),r.a.createElement(At,null))};var Ut=function(){var e=Object(M.g)(),t=Object(l.b)(),a=function(){var a=Object(z.a)(U.a.mark((function a(n){var r,o;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),r={email:"test@email.com",password:"doudoushi"},a.next=4,J({method:"post",url:"/signin",data:r});case 4:(o=a.sent).error||(t(D(o.data)),e.push("/Expenses/wallet"));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){return a(e)}}," Connect"))};var zt=function(){var e=Object(l.c)((function(e){return e.user.userId}));return r.a.createElement(A.a,null,r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/Expenses/login"},r.a.createElement(Ut,null)),r.a.createElement(M.b,{path:"/Expenses/signup"},r.a.createElement(Oe,null)),P()(e)?r.a.createElement(M.a,{to:"/Expenses/login"}):r.a.createElement(M.b,{path:"/Expenses/wallet",component:Tt}),r.a.createElement(M.b,{path:"/Expenses/"},r.a.createElement(ge,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:L},r.a.createElement(zt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports={login:"SignUp_login__5Z7jv",login__container:"SignUp_login__container__3cezx",logo1:"SignUp_logo1__3PeNx",title:"SignUp_title__1X6Yc",errorMessagesContainer:"SignUp_errorMessagesContainer__3zA1e",errorMessages:"SignUp_errorMessages__pMSYF"}}},[[355,1,2]]]);
//# sourceMappingURL=main.2bd8036c.chunk.js.map